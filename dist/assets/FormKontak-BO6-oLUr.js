import{r as t,j as e,L as S}from"./index-B2A0ZtH7.js";import{P as C}from"./PageHeader-CLDTk3jO.js";import{d as T}from"./contactUs-ck9YypUH.js";import{P as A}from"./Pagination-CMM54X9j.js";function J(){const[o,b]=t.useState(T),[x,y]=t.useState(""),[l,N]=t.useState(""),[i,c]=t.useState(1),[n,w]=t.useState(10),[f,m]=t.useState(null),[h,d]=t.useState(""),u=o.filter(a=>{const r=a.user.nama.toLowerCase(),s=a.user.email.toLowerCase(),P=a.tanggal,j=x.toLowerCase();return(r.includes(j)||s.includes(j))&&(l===""||P===l)}),v=Math.ceil(u.length/n),p=(i-1)*n,g=u.slice(p,p+n),k=a=>{const r=o.map(s=>s.id===a?{...s,jawabanAdmin:h}:s);b(r),m(null),d("")};return e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx(C,{title:"Form Kontak",breadcrumb:["Dashboard","Form Kontak"]}),e.jsxs("div",{className:"p-6 bg-white rounded-xl shadow-md",children:[e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsx("h2",{className:"text-2xl font-bold",children:"Daftar Form Kontak"})}),e.jsxs("div",{className:"flex flex-wrap gap-4 mb-4",children:[e.jsx("input",{type:"text",placeholder:"Cari nama/email...",value:x,onChange:a=>{y(a.target.value),c(1)},className:"px-4 py-2 border border-gray-300 rounded-md w-full sm:w-1/2"}),e.jsx("input",{type:"date",value:l,onChange:a=>{N(a.target.value),c(1)},className:"px-4 py-2 border border-gray-300 rounded-md w-full sm:w-1/4"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm text-left",children:[e.jsx("thead",{className:"bg-white border-b border-gray-200 text-gray-600 font-medium",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3",children:"Avatar"}),e.jsx("th",{className:"px-4 py-3",children:"Nama"}),e.jsx("th",{className:"px-4 py-3",children:"Email"}),e.jsx("th",{className:"px-4 py-3",children:"Tujuan"}),e.jsx("th",{className:"px-4 py-3",children:"Pesan"}),e.jsx("th",{className:"px-4 py-3",children:"Tanggal"}),e.jsx("th",{className:"px-4 py-3",children:"Jawaban Admin"})]})}),e.jsxs("tbody",{children:[g.map((a,r)=>e.jsxs("tr",{className:`transition ${r%2===0?"bg-white":"bg-gray-50"} hover:bg-gray-100 align-top`,children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("img",{src:a.user.avatar,alt:a.user.nama,className:"w-10 h-10 rounded-full"})}),e.jsx("td",{className:"px-4 py-2 font-medium text-gray-800",children:e.jsx("b",{children:e.jsx(S,{to:`/contactUs/${a.id}`,className:"text-coklat hover:underline hover:text-coklat2",children:a.user.nama})})}),e.jsx("td",{className:"px-4 py-2 text-gray-600",children:a.user.email}),e.jsx("td",{className:"px-4 py-2 text-gray-600",children:a.kontak.tujuan}),e.jsx("td",{className:"px-4 py-2 text-gray-600 max-w-xs break-words",children:a.kontak.pesan}),e.jsx("td",{className:"px-4 py-2 text-gray-600",children:a.tanggal}),e.jsx("td",{className:"px-4 py-2",children:f===a.id?e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("textarea",{className:"border p-1 rounded text-sm",value:h,onChange:s=>d(s.target.value),rows:2}),e.jsx("button",{onClick:()=>k(a.id),className:"bg-blue-600 text-white px-3 py-1 text-xs rounded hover:bg-blue-700",children:"Simpan"})]}):a.jawabanAdmin?e.jsx("span",{children:a.jawabanAdmin}):e.jsx("button",{onClick:()=>{m(a.id),d(a.jawabanAdmin||"")},className:"bg-blue-500 text-white px-3 py-1 text-xs rounded hover:bg-blue-600",children:"Jawab"})})]},a.id)),g.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"text-center text-gray-500 py-4",children:"Tidak ada data ditemukan."})})]})]})}),e.jsx(A,{currentPage:i,totalPages:v,onPageChange:c,itemsPerPage:n,onPageSizeChange:w})]})]})}export{J as default};
